{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'StudyTourRecommendations',\n  setup() {\n    const recommendations = ref([]); // 存储后端发来的游学推荐信息\n    const filterType = ref('all'); // 筛选类型\n    const limit = ref('all'); // 展示数量限制\n    const sort = ref('default'); // 排序方式\n    const searchKeyword = ref(''); // 搜索关键字\n    const router = useRouter(); // vue-router\n\n    // 获取游学推荐数据\n    const fetchRecommendations = async () => {\n      try {\n        const response = await axios.get('/api/study-tour-recommendations');\n        recommendations.value = response.data;\n      } catch (err) {\n        console.error('Error fetching recommendations:', err);\n      }\n    };\n\n    // 搜索函数\n    const search = () => {\n      // 根据关键字过滤推荐列表\n      recommendations.value = recommendations.value.filter(item => item.name.toLowerCase().includes(searchKeyword.value.toLowerCase()));\n    };\n\n    // 跳转到描述页面\n    //const goToDescription = (id) => {\n    //router.push(`/description/${id}`); // 假设描述页面的路由为 /description/:id\n    //};\n\n    // 初始化获取数据\n    fetchRecommendations();\n    return {\n      recommendations,\n      filterType,\n      limit,\n      sort,\n      searchKeyword,\n      search\n      //goToDescription,\n    };\n  }\n};","map":{"version":3,"names":["ref","axios","useRouter","name","setup","recommendations","filterType","limit","sort","searchKeyword","router","fetchRecommendations","response","get","value","data","err","console","error","search","filter","item","toLowerCase","includes"],"sources":["D:\\Users\\SevenGrass\\Documents\\WILLIAMZHANG\\DataStrucCourseDes\\MyGithub\\src_all\\frontend\\src\\components\\StudyTourRecommendations.vue"],"sourcesContent":["<!-- StudyTourRecommendations.vue -->\r\n<template>\r\n  <div class=\"study-tour-recommendations\">\r\n    <h1>游学推荐</h1>\r\n    <!-- 筛选选项 -->\r\n    <div class=\"filters\">\r\n      <select v-model=\"filterType\">\r\n        <option value=\"all\">全部</option>\r\n        <option value=\"scenic\">景区</option>\r\n        <option value=\"campus\">学校</option>\r\n      </select>\r\n      <select v-model=\"limit\">\r\n        <option value=\"10\">前十</option>\r\n        <option value=\"all\">全部</option>\r\n      </select>\r\n      <select v-model=\"sort\">\r\n        <option value=\"default\">默认排序</option>\r\n        <option value=\"popularity\">热度</option>\r\n        <option value=\"rating\">评分</option>\r\n      </select>\r\n    </div>\r\n    <!-- 搜索框 -->\r\n    <input type=\"text\" v-model=\"searchKeyword\" placeholder=\"搜索景区或学校\">\r\n    <button @click=\"search\">搜索</button>\r\n    <!-- 游学推荐列表 -->\r\n    <ul class=\"recommendations-list\">\r\n      <li v-for=\"item in filteredRecommendations\" :key=\"item.id\" class=\"recommendation-item\">\r\n        {{ item.name }}\r\n        <!-- 点击跳转到描述页面 -->\r\n        <button @click=\"goToDescription(item.id)\">详情</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'StudyTourRecommendations',\r\n  setup() {\r\n    const recommendations = ref([]); // 存储后端发来的游学推荐信息\r\n    const filterType = ref('all'); // 筛选类型\r\n    const limit = ref('all'); // 展示数量限制\r\n    const sort = ref('default'); // 排序方式\r\n    const searchKeyword = ref(''); // 搜索关键字\r\n    const router = useRouter(); // vue-router\r\n\r\n    // 获取游学推荐数据\r\n    const fetchRecommendations = async () => {\r\n      try {\r\n        const response = await axios.get('/api/study-tour-recommendations');\r\n        recommendations.value = response.data;\r\n      } catch (err) {\r\n        console.error('Error fetching recommendations:', err);\r\n      }\r\n    };\r\n\r\n    // 搜索函数\r\n    const search = () => {\r\n      // 根据关键字过滤推荐列表\r\n      recommendations.value = recommendations.value.filter(item =>\r\n        item.name.toLowerCase().includes(searchKeyword.value.toLowerCase())\r\n      );\r\n    };\r\n\r\n    // 跳转到描述页面\r\n    //const goToDescription = (id) => {\r\n      //router.push(`/description/${id}`); // 假设描述页面的路由为 /description/:id\r\n    //};\r\n\r\n    // 初始化获取数据\r\n    fetchRecommendations();\r\n\r\n    return {\r\n      recommendations,\r\n      filterType,\r\n      limit,\r\n      sort,\r\n      searchKeyword,\r\n      search,\r\n      //goToDescription,\r\n    };\r\n  },\r\n};\r\n</script>"],"mappings":"AAoCA,SAASA,GAAE,QAAS,KAAK;AACzB,OAAOC,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAI,EAAE,0BAA0B;EAChCC,KAAKA,CAAA,EAAG;IACN,MAAMC,eAAc,GAAIL,GAAG,CAAC,EAAE,CAAC,EAAE;IACjC,MAAMM,UAAS,GAAIN,GAAG,CAAC,KAAK,CAAC,EAAE;IAC/B,MAAMO,KAAI,GAAIP,GAAG,CAAC,KAAK,CAAC,EAAE;IAC1B,MAAMQ,IAAG,GAAIR,GAAG,CAAC,SAAS,CAAC,EAAE;IAC7B,MAAMS,aAAY,GAAIT,GAAG,CAAC,EAAE,CAAC,EAAE;IAC/B,MAAMU,MAAK,GAAIR,SAAS,CAAC,CAAC,EAAE;;IAE5B;IACA,MAAMS,oBAAmB,GAAI,MAAAA,CAAA,KAAY;MACvC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,GAAG,CAAC,iCAAiC,CAAC;QACnER,eAAe,CAACS,KAAI,GAAIF,QAAQ,CAACG,IAAI;MACvC,EAAE,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEF,GAAG,CAAC;MACvD;IACF,CAAC;;IAED;IACA,MAAMG,MAAK,GAAIA,CAAA,KAAM;MACnB;MACAd,eAAe,CAACS,KAAI,GAAIT,eAAe,CAACS,KAAK,CAACM,MAAM,CAACC,IAAG,IACtDA,IAAI,CAAClB,IAAI,CAACmB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACd,aAAa,CAACK,KAAK,CAACQ,WAAW,CAAC,CAAC,CACpE,CAAC;IACH,CAAC;;IAED;IACA;IACE;IACF;;IAEA;IACAX,oBAAoB,CAAC,CAAC;IAEtB,OAAO;MACLN,eAAe;MACfC,UAAU;MACVC,KAAK;MACLC,IAAI;MACJC,aAAa;MACbU;MACA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}