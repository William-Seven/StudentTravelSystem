{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    const loginError = ref(''); // 用于存储登录错误信息\n    const output = ref(''); // 存储后端发来的信息\n    const router = useRouter();\n    const handleSubmit = async () => {\n      try {\n        const response = await axios.post('http://localhost:3000/api/login', {\n          username: username.value,\n          password: password.value\n        });\n        if (response.status === 200) {\n          output.value = response.data; // 将后端返回的输出存储在 output 变量中\n          if (output.value === '登录成功') {\n            alert('登录成功');\n          }\n          // 这里可以添加代码来处理登录成功的逻辑，如跳转到主页\n        }\n      } catch (error) {\n        // 网络或其他错误处理\n        loginError.value = '登录过程中发生错误。';\n      }\n    };\n    const goToForgotPassword = () => {\n      router.push('/forgot-password');\n    };\n\n    // 返回响应式引用供模板使用\n    return {\n      username,\n      password,\n      loginError,\n      output,\n      handleSubmit,\n      goToForgotPassword\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","useRouter","setup","username","password","loginError","output","router","handleSubmit","response","post","value","status","data","alert","error","goToForgotPassword","push"],"sources":["D:\\Users\\SevenGrass\\Documents\\WILLIAMZHANG\\DataStrucCourseDes\\vue\\frontend\\src\\components\\myLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <h2>登录</h2>\r\n    <button @click=\"goToForgotPassword\">\r\n      忘记密码？\r\n    </button>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div>\r\n        <label for=\"username\">用户名:</label>\r\n        <input type=\"text\" id=\"username\" v-model=\"username\" required>\r\n      </div>\r\n      <div>\r\n        <label for=\"password\">密码:</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" required>\r\n      </div>\r\n      <button type=\"submit\">登录</button>\r\n      <p v-if=\"loginError\">{{ loginError }}</p> <!-- 显示登录错误信息 -->\r\n      <p v-if=\"output\">{{ output }}</p> <!-- 新增：显示从后端接收的输出 -->\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  setup() {\r\n    const username = ref('');\r\n    const password = ref('');\r\n    const loginError = ref(''); // 用于存储登录错误信息\r\n    const output = ref('');     // 存储后端发来的信息\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async () => {\r\n      try {\r\n        const response = await axios.post('http://localhost:3000/api/login', {\r\n          username: username.value,\r\n          password: password.value\r\n        });\r\n        if (response.status === 200) {\r\n          output.value = response.data; // 将后端返回的输出存储在 output 变量中\r\n          if (output.value === '登录成功') {\r\n            alert('登录成功');\r\n          }\r\n          // 这里可以添加代码来处理登录成功的逻辑，如跳转到主页\r\n        }\r\n      } catch (error) {\r\n        // 网络或其他错误处理\r\n        loginError.value = '登录过程中发生错误。';\r\n      }\r\n    };\r\n\r\n    const goToForgotPassword = () => {\r\n      router.push('/forgot-password');\r\n    };\r\n\r\n    // 返回响应式引用供模板使用\r\n    return {\r\n      username,\r\n      password,\r\n      loginError,\r\n      output,\r\n      handleSubmit,\r\n      goToForgotPassword\r\n    };\r\n  }\r\n\r\n\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/* 您的样式 */\r\n.login-container {\r\n  /* 容器样式 */\r\n}\r\n</style>"],"mappings":";AAuBA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,GAAE,QAAS,KAAK;AACzB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,QAAO,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,UAAS,GAAIL,GAAG,CAAC,EAAE,CAAC,EAAE;IAC5B,MAAMM,MAAK,GAAIN,GAAG,CAAC,EAAE,CAAC,EAAM;IAC5B,MAAMO,MAAK,GAAIN,SAAS,CAAC,CAAC;IAE1B,MAAMO,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMV,KAAK,CAACW,IAAI,CAAC,iCAAiC,EAAE;UACnEP,QAAQ,EAAEA,QAAQ,CAACQ,KAAK;UACxBP,QAAQ,EAAEA,QAAQ,CAACO;QACrB,CAAC,CAAC;QACF,IAAIF,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;UAC3BN,MAAM,CAACK,KAAI,GAAIF,QAAQ,CAACI,IAAI,EAAE;UAC9B,IAAIP,MAAM,CAACK,KAAI,KAAM,MAAM,EAAE;YAC3BG,KAAK,CAAC,MAAM,CAAC;UACf;UACA;QACF;MACF,EAAE,OAAOC,KAAK,EAAE;QACd;QACAV,UAAU,CAACM,KAAI,GAAI,YAAY;MACjC;IACF,CAAC;IAED,MAAMK,kBAAiB,GAAIA,CAAA,KAAM;MAC/BT,MAAM,CAACU,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC;;IAED;IACA,OAAO;MACLd,QAAQ;MACRC,QAAQ;MACRC,UAAU;MACVC,MAAM;MACNE,YAAY;MACZQ;IACF,CAAC;EACH;AAGF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}