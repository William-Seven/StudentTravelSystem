{"ast":null,"code":"import axios from 'axios';\nimport { ref } from 'vue';\nexport default {\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    const loginError = ref(''); // 用于存储登录错误信息\n    const output = ref(''); // 存储后端发来的信息\n\n    const handleSubmit = async () => {\n      try {\n        const response = await axios.post('http://localhost:3000/api/login', {\n          username: username.value,\n          password: password.value\n        });\n        if (response.status === 200) {\n          // 登录成功处理\n          output.value = response.data; // 将后端返回的输出存储在 output 变量中\n          if (output.value === '登录成功') alert('登录成功');\n          // 这里可以添加代码来处理登录成功的逻辑，如跳转到主页\n        }\n        if (response.status === 401) {\n          // 登录失败时设置错误信息\n          alert('登录失败');\n          loginError.value = '登录失败，请检查您的用户名和密码。';\n        }\n      } catch (error) {\n        // 网络或其他错误处理\n        loginError.value = '登录过程中发生错误。';\n      }\n    };\n\n    // 返回响应式引用供模板使用\n    return {\n      username,\n      password,\n      loginError,\n      output,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","setup","username","password","loginError","output","handleSubmit","response","post","value","status","data","alert","error"],"sources":["D:\\Users\\SevenGrass\\Documents\\WILLIAMZHANG\\DataStrucCourseDes\\vue\\frontend\\src\\components\\myLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <h2>登录</h2>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div>\r\n        <label for=\"username\">用户名:</label>\r\n        <input type=\"text\" id=\"username\" v-model=\"username\" required>\r\n      </div>\r\n      <div>\r\n        <label for=\"password\">密码:</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" required>\r\n      </div>\r\n      <button type=\"submit\">登录</button>\r\n      <p v-if=\"loginError\">{{ loginError }}</p> <!-- 显示登录错误信息 -->\r\n      <p v-if=\"output\">{{ output }}</p> <!-- 新增：显示从后端接收的输出 -->\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const username = ref('');\r\n    const password = ref('');\r\n    const loginError = ref(''); // 用于存储登录错误信息\r\n    const output = ref('');     // 存储后端发来的信息\r\n\r\n    const handleSubmit = async () => {\r\n      try {\r\n        const response = await axios.post('http://localhost:3000/api/login', {\r\n          username: username.value,\r\n          password: password.value\r\n        });\r\n        if (response.status === 200) {\r\n          // 登录成功处理\r\n          output.value = response.data; // 将后端返回的输出存储在 output 变量中\r\n          if (output.value === '登录成功')\r\n            alert('登录成功');\r\n          // 这里可以添加代码来处理登录成功的逻辑，如跳转到主页\r\n        }\r\n        if (response.status === 401) {\r\n          // 登录失败时设置错误信息\r\n          alert('登录失败');\r\n          loginError.value = '登录失败，请检查您的用户名和密码。';\r\n        }\r\n      } catch (error) {\r\n        // 网络或其他错误处理\r\n        loginError.value = '登录过程中发生错误。';\r\n      }\r\n    };\r\n\r\n    // 返回响应式引用供模板使用\r\n    return {\r\n      username,\r\n      password,\r\n      loginError,\r\n      output,\r\n      handleSubmit\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/* 您的样式 */\r\n.login-container {\r\n  /* 容器样式 */\r\n}\r\n</style>"],"mappings":"AAoBA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIF,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMG,QAAO,GAAIH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,UAAS,GAAIJ,GAAG,CAAC,EAAE,CAAC,EAAE;IAC5B,MAAMK,MAAK,GAAIL,GAAG,CAAC,EAAE,CAAC,EAAM;;IAE5B,MAAMM,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,IAAI,CAAC,iCAAiC,EAAE;UACnEN,QAAQ,EAAEA,QAAQ,CAACO,KAAK;UACxBN,QAAQ,EAAEA,QAAQ,CAACM;QACrB,CAAC,CAAC;QACF,IAAIF,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;UAC3B;UACAL,MAAM,CAACI,KAAI,GAAIF,QAAQ,CAACI,IAAI,EAAE;UAC9B,IAAIN,MAAM,CAACI,KAAI,KAAM,MAAM,EACzBG,KAAK,CAAC,MAAM,CAAC;UACf;QACF;QACA,IAAIL,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;UAC3B;UACAE,KAAK,CAAC,MAAM,CAAC;UACbR,UAAU,CAACK,KAAI,GAAI,mBAAmB;QACxC;MACF,EAAE,OAAOI,KAAK,EAAE;QACd;QACAT,UAAU,CAACK,KAAI,GAAI,YAAY;MACjC;IACF,CAAC;;IAED;IACA,OAAO;MACLP,QAAQ;MACRC,QAAQ;MACRC,UAAU;MACVC,MAAM;MACNC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}